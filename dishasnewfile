from typing import Union, Dict
class Interpreter: 
    def __init__(self):
        self.variables = {}
        self.env: Dict[str, Union[int, bool, str]] = {}
        self.lines : dict = {}
        self.current_line = 0
        self.current_line = 1

    def evaluate_expression(self,expr: str) -> Union[int, bool, str]:
      try:
          for variable in self.env: 
              expr = expr.replace(variable, str(self.env[variable]))
          return eval(expr)
      except Exception as e: 
        print(f"Error evaluating expression '{expr}': {e}")
        return 

    def assign_variable(self,value: str, key: int) -> dict:
        self.variables[key] = value
        print(self.variables)


    def print_stmt(self, statement: str):
        expr = statement.split("print", 1)
        value = self.evaluate_expression(expr)
        print(value) 

    def if_stmt(self):
        a_input = int(input("Please enter of value of a : "))
        b_input = int(input("Please enter the value of b: "))
        operator = input("Please enter the operator: ")
        new_value = operator 
        a = True
        if new_value == ">":
            print("Checking if a value is greater than b")
            if a_input > b_input:
                print(a)
            else:
                a = False
                print(a)
        elif new_value == ">=":
            print("Checking if a value is greater than b")
            if a_input >= b_input:
                print(a)
            else:
                a = False
                print(a)
        elif new_value == "<":
            print("Checking if a value is greater than b")
            if a_input < b_input:
                print(a)
            else:
                a = False
                print(a)
        elif new_value == "<=":
            print("Checking if a value is greater than b")
            if a_input <= b_input:
                print(a)
            else:
                a = False
                print(a)
        elif new_value == "==":
            print("Checking if a value is greater than b")
            if a_input == b_input:
                print(a)
            else:
                a = False
                print(a)

        

    def while_loop(self, statement:str):
        return 

    def goto(self, statement:str):
        line_number = statement.split("goto")
        target = int(line_number)
        if target in self.lines:
            self.current_line = target 
        else: 
            print(f"Line {target} does not exist.")

    def run_statement(self, statement: str):
        if statement.startswith("let"):
            self.assign_variable(statement)
        elif statement.startswith("print"):
            self.print_stmt(statement)
        elif statement.startswith("if"):
            self.if_stmt(statement)
        elif statement.startswith("while"):
            self.while_loop(statement)
        elif statement.startswith("goto"):
            self.goto(statement)
        else:
            print(f"The statement is incorrect or invalid: {statement}")

    def load_program(self):
        print("Enter your program line by line. Type 'END' to finish.")
        line_number = 1
        while True:
            line = input(f"Line {line_number}: ")
            if line.strip().upper() == "END":
                break
            else:
                self.lines[line_number] = line
                line_number += 1

    def execute_program(self):
        self.current_line = 1
        while self.current_line in self.lines:
            statement = self.lines[self.current_line]
            self.run_statement(statement)
            self.current_line += 1

    def display_environment(self):
        print("\nCurrent Environment:")
        for z, v in self.env.items():
            print(f"{z} = {v}")
    

    def main_menu(self):
        while True:
            print("\nToy Language Interpreter")
            print("1. Load program")
            print("2. Run program")
            print("3. View environment")
            print("4. Assign Variable")
            print("5. Exit")
            print("6. If statement")
            choice = input("Select an option: ")

            if choice == '1':
                self.load_program()
            elif choice == '2':
                self.execute_program()
            elif choice == '3':
                self.display_environment()
            elif choice == '4':
                self.assign_variable(1, "hiiii")
            elif choice == '5':
                break
            elif choice == '6':
                self.if_stmt()
            else:
                print("Invalid option. Please select 1-5.")

if __name__ == "__main__":
    interpreter = Interpreter()
    interpreter.main_menu()
Footer
